## how to run

```
bun install
bun run dev
```

## todo voronoi

叠加图层，需要同时展示多种图像

- 风向图
  - 根据地块温差，计算地块风向
    - 风向数据保存到边
    - 两个来源：信风，热力风
    - 热力风影响：遍历节点，按温差分配权重到所有高温地区
    - 信风影响：todo 根据纬度计算偏向力，将修正不同边上的势能权重
    - 根据地形差计算势能阻力
    - 遍历边，只绘制最大温差边，可以生成风向图
  - 从陆地边界开始，海洋风会携带 1 的湿度，根据风力大小计算截留湿度，风力越小，湿度越大
- 湿度图
  - 海洋地块水汽为 1，陆地地块水汽为 0
- 极点图
  - 遍历地图，基于高度图得到陆地边界
  - 以陆地边界地块为基础，遍历地图，为每一个地块计算陆地边界临近度，并得到海洋极点与陆地极点
- 生成河流

## todo

- 缓存节点渲染结果
- 平滑缩放滚动效果
- 严格约束缩放级别到指定大小
- maxLevel 应该由 ChunkTree 处理
